(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1140:function(module,exports,__webpack_require__){__webpack_require__(1141),__webpack_require__(1288),module.exports=__webpack_require__(1289)},1205:function(module,exports){},1289:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(137),_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1107),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1108),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1109),_storybook_addon_options__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1116),react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1117),react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_6__),_package_json__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(369);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.setAddon)(react_storybook_addon_chapters__WEBPACK_IMPORTED_MODULE_6___default.a),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_2__.withNotes),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.withKnobs),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_4__.withInfo),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addParameters)({info:{inline:!0,source:!1,styles:function styles(stylesheet){return _objectSpread(_objectSpread({},stylesheet),{},{infoBody:_objectSpread(_objectSpread({},stylesheet.infoBody),{},{padding:"20px 40px 20px"}),header:_objectSpread(_objectSpread({},stylesheet.header),{},{h1:_objectSpread({},stylesheet.header.h1)})})}}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(Object(_storybook_addon_options__WEBPACK_IMPORTED_MODULE_5__.withOptions)({name:"".concat(_package_json__WEBPACK_IMPORTED_MODULE_7__.a," v").concat(_package_json__WEBPACK_IMPORTED_MODULE_7__.c),url:_package_json__WEBPACK_IMPORTED_MODULE_7__.b,sidebarAnimations:!0})),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.configure)((function loadStories(){var req=__webpack_require__(2067),allExport=[__webpack_require__(985)];return req.keys().forEach((function(fileName){return allExport.push(req(fileName))})),allExport}),module)}.call(this,__webpack_require__(1290)(module))},1533:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":439,"./nestedObjectAssign.js":439};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1533},2067:function(module,exports,__webpack_require__){var map={"./index.stories.tsx":985};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2067},2086:function(module,exports,__webpack_require__){var map={"./af":476,"./af.js":476,"./ar":477,"./ar-dz":478,"./ar-dz.js":478,"./ar-kw":479,"./ar-kw.js":479,"./ar-ly":480,"./ar-ly.js":480,"./ar-ma":481,"./ar-ma.js":481,"./ar-sa":482,"./ar-sa.js":482,"./ar-tn":483,"./ar-tn.js":483,"./ar.js":477,"./az":484,"./az.js":484,"./be":485,"./be.js":485,"./bg":486,"./bg.js":486,"./bm":487,"./bm.js":487,"./bn":488,"./bn.js":488,"./bo":489,"./bo.js":489,"./br":490,"./br.js":490,"./bs":491,"./bs.js":491,"./ca":492,"./ca.js":492,"./cs":493,"./cs.js":493,"./cv":494,"./cv.js":494,"./cy":495,"./cy.js":495,"./da":496,"./da.js":496,"./de":497,"./de-at":498,"./de-at.js":498,"./de-ch":499,"./de-ch.js":499,"./de.js":497,"./dv":500,"./dv.js":500,"./el":501,"./el.js":501,"./en-au":502,"./en-au.js":502,"./en-ca":503,"./en-ca.js":503,"./en-gb":504,"./en-gb.js":504,"./en-ie":505,"./en-ie.js":505,"./en-il":506,"./en-il.js":506,"./en-in":507,"./en-in.js":507,"./en-nz":508,"./en-nz.js":508,"./en-sg":509,"./en-sg.js":509,"./eo":510,"./eo.js":510,"./es":511,"./es-do":512,"./es-do.js":512,"./es-us":513,"./es-us.js":513,"./es.js":511,"./et":514,"./et.js":514,"./eu":515,"./eu.js":515,"./fa":516,"./fa.js":516,"./fi":517,"./fi.js":517,"./fil":518,"./fil.js":518,"./fo":519,"./fo.js":519,"./fr":520,"./fr-ca":521,"./fr-ca.js":521,"./fr-ch":522,"./fr-ch.js":522,"./fr.js":520,"./fy":523,"./fy.js":523,"./ga":524,"./ga.js":524,"./gd":525,"./gd.js":525,"./gl":526,"./gl.js":526,"./gom-deva":527,"./gom-deva.js":527,"./gom-latn":528,"./gom-latn.js":528,"./gu":529,"./gu.js":529,"./he":530,"./he.js":530,"./hi":531,"./hi.js":531,"./hr":532,"./hr.js":532,"./hu":533,"./hu.js":533,"./hy-am":534,"./hy-am.js":534,"./id":535,"./id.js":535,"./is":536,"./is.js":536,"./it":537,"./it-ch":538,"./it-ch.js":538,"./it.js":537,"./ja":539,"./ja.js":539,"./jv":540,"./jv.js":540,"./ka":541,"./ka.js":541,"./kk":542,"./kk.js":542,"./km":543,"./km.js":543,"./kn":544,"./kn.js":544,"./ko":545,"./ko.js":545,"./ku":546,"./ku.js":546,"./ky":547,"./ky.js":547,"./lb":548,"./lb.js":548,"./lo":549,"./lo.js":549,"./lt":550,"./lt.js":550,"./lv":551,"./lv.js":551,"./me":552,"./me.js":552,"./mi":553,"./mi.js":553,"./mk":554,"./mk.js":554,"./ml":555,"./ml.js":555,"./mn":556,"./mn.js":556,"./mr":557,"./mr.js":557,"./ms":558,"./ms-my":559,"./ms-my.js":559,"./ms.js":558,"./mt":560,"./mt.js":560,"./my":561,"./my.js":561,"./nb":562,"./nb.js":562,"./ne":563,"./ne.js":563,"./nl":564,"./nl-be":565,"./nl-be.js":565,"./nl.js":564,"./nn":566,"./nn.js":566,"./oc-lnc":567,"./oc-lnc.js":567,"./pa-in":568,"./pa-in.js":568,"./pl":569,"./pl.js":569,"./pt":570,"./pt-br":571,"./pt-br.js":571,"./pt.js":570,"./ro":572,"./ro.js":572,"./ru":573,"./ru.js":573,"./sd":574,"./sd.js":574,"./se":575,"./se.js":575,"./si":576,"./si.js":576,"./sk":577,"./sk.js":577,"./sl":578,"./sl.js":578,"./sq":579,"./sq.js":579,"./sr":580,"./sr-cyrl":581,"./sr-cyrl.js":581,"./sr.js":580,"./ss":582,"./ss.js":582,"./sv":583,"./sv.js":583,"./sw":584,"./sw.js":584,"./ta":585,"./ta.js":585,"./te":586,"./te.js":586,"./tet":587,"./tet.js":587,"./tg":588,"./tg.js":588,"./th":589,"./th.js":589,"./tk":590,"./tk.js":590,"./tl-ph":591,"./tl-ph.js":591,"./tlh":592,"./tlh.js":592,"./tr":593,"./tr.js":593,"./tzl":594,"./tzl.js":594,"./tzm":595,"./tzm-latn":596,"./tzm-latn.js":596,"./tzm.js":595,"./ug-cn":597,"./ug-cn.js":597,"./uk":598,"./uk.js":598,"./ur":599,"./ur.js":599,"./uz":600,"./uz-latn":601,"./uz-latn.js":601,"./uz.js":600,"./vi":602,"./vi.js":602,"./x-pseudo":603,"./x-pseudo.js":603,"./yo":604,"./yo.js":604,"./zh-cn":605,"./zh-cn.js":605,"./zh-hk":606,"./zh-hk.js":606,"./zh-mo":607,"./zh-mo.js":607,"./zh-tw":608,"./zh-tw.js":608};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2086},2493:function(module,exports,__webpack_require__){var map={"./af":651,"./af.js":651,"./ar":652,"./ar-dz":653,"./ar-dz.js":653,"./ar-kw":654,"./ar-kw.js":654,"./ar-ly":655,"./ar-ly.js":655,"./ar-ma":656,"./ar-ma.js":656,"./ar-sa":657,"./ar-sa.js":657,"./ar-tn":658,"./ar-tn.js":658,"./ar.js":652,"./az":659,"./az.js":659,"./be":660,"./be.js":660,"./bg":661,"./bg.js":661,"./bm":662,"./bm.js":662,"./bn":663,"./bn.js":663,"./bo":664,"./bo.js":664,"./br":665,"./br.js":665,"./bs":666,"./bs.js":666,"./ca":667,"./ca.js":667,"./cs":668,"./cs.js":668,"./cv":669,"./cv.js":669,"./cy":670,"./cy.js":670,"./da":671,"./da.js":671,"./de":672,"./de-at":673,"./de-at.js":673,"./de-ch":674,"./de-ch.js":674,"./de.js":672,"./dv":675,"./dv.js":675,"./el":676,"./el.js":676,"./en-au":677,"./en-au.js":677,"./en-ca":678,"./en-ca.js":678,"./en-gb":679,"./en-gb.js":679,"./en-ie":680,"./en-ie.js":680,"./en-nz":681,"./en-nz.js":681,"./eo":682,"./eo.js":682,"./es":683,"./es-do":684,"./es-do.js":684,"./es-us":685,"./es-us.js":685,"./es.js":683,"./et":686,"./et.js":686,"./eu":687,"./eu.js":687,"./fa":688,"./fa.js":688,"./fi":689,"./fi.js":689,"./fo":690,"./fo.js":690,"./fr":691,"./fr-ca":692,"./fr-ca.js":692,"./fr-ch":693,"./fr-ch.js":693,"./fr.js":691,"./fy":694,"./fy.js":694,"./gd":695,"./gd.js":695,"./gl":696,"./gl.js":696,"./gom-latn":697,"./gom-latn.js":697,"./gu":698,"./gu.js":698,"./he":699,"./he.js":699,"./hi":700,"./hi.js":700,"./hr":701,"./hr.js":701,"./hu":702,"./hu.js":702,"./hy-am":703,"./hy-am.js":703,"./id":704,"./id.js":704,"./is":705,"./is.js":705,"./it":706,"./it.js":706,"./ja":707,"./ja.js":707,"./jv":708,"./jv.js":708,"./ka":709,"./ka.js":709,"./kk":710,"./kk.js":710,"./km":711,"./km.js":711,"./kn":712,"./kn.js":712,"./ko":713,"./ko.js":713,"./ky":714,"./ky.js":714,"./lb":715,"./lb.js":715,"./lo":716,"./lo.js":716,"./lt":717,"./lt.js":717,"./lv":718,"./lv.js":718,"./me":719,"./me.js":719,"./mi":720,"./mi.js":720,"./mk":721,"./mk.js":721,"./ml":722,"./ml.js":722,"./mr":723,"./mr.js":723,"./ms":724,"./ms-my":725,"./ms-my.js":725,"./ms.js":724,"./mt":726,"./mt.js":726,"./my":727,"./my.js":727,"./nb":728,"./nb.js":728,"./ne":729,"./ne.js":729,"./nl":730,"./nl-be":731,"./nl-be.js":731,"./nl.js":730,"./nn":732,"./nn.js":732,"./pa-in":733,"./pa-in.js":733,"./pl":734,"./pl.js":734,"./pt":735,"./pt-br":736,"./pt-br.js":736,"./pt.js":735,"./ro":737,"./ro.js":737,"./ru":738,"./ru.js":738,"./sd":739,"./sd.js":739,"./se":740,"./se.js":740,"./si":741,"./si.js":741,"./sk":742,"./sk.js":742,"./sl":743,"./sl.js":743,"./sq":744,"./sq.js":744,"./sr":745,"./sr-cyrl":746,"./sr-cyrl.js":746,"./sr.js":745,"./ss":747,"./ss.js":747,"./sv":748,"./sv.js":748,"./sw":749,"./sw.js":749,"./ta":750,"./ta.js":750,"./te":751,"./te.js":751,"./tet":752,"./tet.js":752,"./th":753,"./th.js":753,"./tl-ph":754,"./tl-ph.js":754,"./tlh":755,"./tlh.js":755,"./tr":756,"./tr.js":756,"./tzl":757,"./tzl.js":757,"./tzm":758,"./tzm-latn":759,"./tzm-latn.js":759,"./tzm.js":758,"./uk":760,"./uk.js":760,"./ur":761,"./ur.js":761,"./uz":762,"./uz-latn":763,"./uz-latn.js":763,"./uz.js":762,"./vi":764,"./vi.js":764,"./x-pseudo":765,"./x-pseudo.js":765,"./yo":766,"./yo.js":766,"./zh-cn":767,"./zh-cn.js":767,"./zh-hk":768,"./zh-hk.js":768,"./zh-tw":769,"./zh-tw.js":769};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2493},2686:function(module,exports,__webpack_require__){var content=__webpack_require__(2687);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(1100)(content,options);content.locals&&(module.exports=content.locals)},2687:function(module,exports,__webpack_require__){(exports=__webpack_require__(129)(!1)).push([module.i,".story_wrapper{padding:0 40px;font-size:14px}\n",""]),module.exports=exports},2689:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.notShowProps=function notShowProps(disable,props){return disable?{info:{disable:!0}}:{info:{inline:!0,source:!1,propTablesExclude:props}}}},2690:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(461);Object.defineProperty(exports,"__esModule",{value:!0}),exports.PropsTable=function PropsTable(props){var propsFields=props.propDefinitions.map((function(_ref){var property=_ref.property,propType=_ref.propType,required=_ref.required,description=_ref.description,defaultValue=_ref.defaultValue;return React.createElement("tr",{key:property},React.createElement("td",null,property,required?React.createElement("span",{style:{color:"red",marginLeft:"5px"}},"*"):null),React.createElement("td",null,description),React.createElement("td",null,propType),React.createElement("td",null,defaultValue))}));return React.createElement("table",{width:"90%"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"参数"),React.createElement("th",null,"说明"),React.createElement("th",null,"类型"),React.createElement("th",null,"默认值"))),React.createElement("tbody",null,propsFields))};var React=_interopRequireWildcard(__webpack_require__(1));__webpack_require__(2691)},2691:function(module,exports,__webpack_require__){var content=__webpack_require__(2692);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(1100)(content,options);content.locals&&(module.exports=content.locals)},2692:function(module,exports,__webpack_require__){(exports=__webpack_require__(129)(!1)).push([module.i,"table{font-family:sfmono-regular,Consolas,liberation mono,Menlo,Courier,monospace;border-collapse:collapse;margin:0 auto;text-align:center}table td,table th{border:1px solid #ccc;color:#666;height:30px}table thead th{background-color:#f7f7f7;width:100px}table tbody tr td:first-child{font-weight:bold}table tbody tr td:nth-child(3){color:#c41d7f}\n",""]),module.exports=exports},2699:function(module,exports,__webpack_require__){var api=__webpack_require__(172),content=__webpack_require__(2700);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2700:function(module,exports,__webpack_require__){(exports=__webpack_require__(129)(!1)).push([module.i,".CodeMirror, .CodeMirror-merge-pane {\n  height: inherit !important;\n  font-family: consolas !important; }\n\n.editor_custom_link {\n  cursor: pointer;\n  color: #1474f1;\n  text-decoration: underline; }\n\n.editor_custom_link:hover {\n  color: #04b4fa; }\n\n.c-editor--log__error {\n  color: #bb0606;\n  font-weight: bold; }\n\n.c-editor--log__info {\n  color: #333333;\n  font-weight: bold; }\n\n.c-editor--log__warning {\n  color: #ee9900; }\n\n.c-editor--log__success {\n  color: #669600; }\n",""]),module.exports=exports},2708:function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(461);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var React=_interopRequireWildcard(__webpack_require__(1)),LeftSpan=function LeftSpan(props){return React.createElement("div",{style:{textAlign:"left",padding:8,lineHeight:"25px"}},props.children)},_default=[{property:"value",propType:"string",required:!1,description:React.createElement(LeftSpan,null,"编辑器的文本内容"),defaultValue:"-"},{property:"cursor",propType:"CodeMirror.Position",required:!1,description:React.createElement(LeftSpan,null,"编辑器光标位置"),defaultValue:"-"},{property:"sync",propType:"boolean",required:!1,description:React.createElement(LeftSpan,null,"是否同步 props 的 value 内容到编辑器"),defaultValue:"-"},{property:"options",propType:"CodeMirror.EditorConfiguration",required:!1,description:React.createElement(LeftSpan,null,"编辑器配置选项，",React.createElement("a",{href:"https://codemirror.net/doc/manual.html#config"},"参考")),defaultValue:"defaultEditorOptions"},{property:"cursorAlwaysInEnd",propType:"boolean",required:!1,description:React.createElement(LeftSpan,null,"光标是否总是显示在末尾"),defaultValue:"-"},{property:"editorRef",propType:"CodeMirror.Editor",required:!1,description:React.createElement(LeftSpan,null,"引用编辑器实例"),defaultValue:"-"},{property:"cursorActivity",propType:"(prevValue: string, nextValue: string, editorDoc: CodeMirror.Doc) => void",required:!1,description:React.createElement(LeftSpan,null,"光标活动时事件"),defaultValue:"-"},{property:"onChange",propType:"(prevValue: string, nextValue: string, editorDoc: CodeMirror.Doc) => void",required:!1,description:React.createElement(LeftSpan,null,"编辑器内容改变"),defaultValue:"-"},{property:"onFocus",propType:"(prevValue: string, nextValue: string, editorDoc: CodeMirror.Doc) => void",required:!1,description:React.createElement(LeftSpan,null,"编辑器聚焦事件"),defaultValue:"-"},{property:"focusOut",propType:"(prevValue: string, nextValue: string, editorDoc: CodeMirror.Doc) => void",required:!1,description:React.createElement(LeftSpan,null,"编辑器焦点跳出事件"),defaultValue:"-"}];exports.default=_default},2711:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="# Changelog\n\nAll notable changes to this project will be documented in this file. See [standard-version](https://github.com/conventional-changelog/standard-version) for commit guidelines.\n\n### [0.9.2](https://github.com/DTStack/dt-react-codemirror-editor/compare/v0.9.1...v0.9.2) (2020-07-15)\n\n### [0.9.1](https://github.com/DTStack/dt-react-codemirror-editor/compare/v0.9.0...v0.9.1) (2020-07-14)\n\n## 0.9.0 (2020-07-13)\n\n\n### Features\n\n* add code ([51ffc1e](https://github.com/DTStack/dt-react-codemirror-editor/commit/51ffc1e133fa07df211025afb2fb68ba65d0e420))\n* add dt-react-codemirror-editor component ([ec63107](https://github.com/DTStack/dt-react-codemirror-editor/commit/ec631076370b19c376cc611fc117d457295e510e))\n\n## 0.9.0 (2020-07-13)\n\n\n### Features\n\n* add code ([51ffc1e](https://github.com/DTStack/dt-react-codemirror-editor/commit/51ffc1e133fa07df211025afb2fb68ba65d0e420))\n* add dt-react-codemirror-editor component ([ec63107](https://github.com/DTStack/dt-react-codemirror-editor/commit/ec631076370b19c376cc611fc117d457295e510e))\n"},2712:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="# dt-react-codemirror-editor\n\nCodeMirror React.js 版本，自带一种自定义的日志模式 `dtlog`,  使用请参考[在线示例](https://dtstack.github.io/dt-react-codemirror-editor/)。\n\n## 安装\n\n### npm\n\n```bash\nnpm install dt-react-codemirror-editor\n```\n\n### yarn\n\n```bash\nyarn add dt-react-codemirror-editor\n```\n\n## 使用\n\n在线预览：[https://dtstack.github.io/dt-react-codemirror-editor/](https://dtstack.github.io/dt-react-codemirror-editor/)\n\n## License\n\nMIT\n"},2720:function(module,__webpack_exports__,__webpack_require__){"use strict";var errorType;function getLocalTime(){var date=new Date;return date.getHours()+":"+date.getMinutes()+":"+date.getSeconds()}function createLinkMark(attrs){return"#link#"+JSON.stringify(attrs)+"#link#"}function getLinkMark(value){var indexObj,linkRegexp=/#link#(.+)#link#/g,result=[];for(indexObj=linkRegexp.exec(value);indexObj;){for(var node=document.createElement("a"),attrs=JSON.parse(indexObj[1]),_i=0,keyAndValues_1=Object.entries(attrs);_i<keyAndValues_1.length;_i++){var _a=keyAndValues_1[_i],_key=_a[0],_value=_a[1];node.setAttribute(_key,_value)}node.className="editor_custom_link",node.innerHTML="logDownload",result.push({start:indexObj.index,end:indexObj.index+indexObj[0].length,node:node}),indexObj=linkRegexp.exec(value)}return result}function createLogMark(text,type){return void 0===text&&(text=""),void 0===type&&(type="info"),"#log<"+type+">log#"+text+"#log<"+type+">log#"}function getLogMark(value){var result=[];return function match(){var indexObj,logRegexp=new RegExp("#log<(\\w*)>log#((.|\r\n|\n)*?)#log<(\\w*)>log#","g");for(indexObj=logRegexp.exec(value);indexObj;){var textArr=indexObj[0].replace(/\r\n/g,"\n").split("\n"),contentArr=indexObj[2].replace(/\r\n/g,"\n").split("\n"),node=document.createElement("span"),type=indexObj[1];node.className="c-editor--log__"+type;for(var offset=0,i=0;i<textArr.length;i++){var textItem=textArr[i],contentItem=contentArr[i],cloneNode=node.cloneNode(!1);cloneNode.innerText=contentItem,result.push({start:indexObj.index+offset,end:indexObj.index+offset+textItem.length,node:cloneNode}),offset=offset+textItem.length+1}indexObj=logRegexp.exec(value)}}(),result}function createLog(log,type){return void 0===type&&(type=""),"["+getLocalTime()+"] <"+type+"> "+log}function createTitle(title){void 0===title&&(title="");var offsetLength=Math.floor(1.5*title.length/2),wraptext=new Array(Math.max(15-offsetLength,5)).join("=");return""+wraptext+title+wraptext}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getLocalTime",(function(){return getLocalTime})),__webpack_require__.d(__webpack_exports__,"createLinkMark",(function(){return createLinkMark})),__webpack_require__.d(__webpack_exports__,"getLinkMark",(function(){return getLinkMark})),__webpack_require__.d(__webpack_exports__,"createLogMark",(function(){return createLogMark})),__webpack_require__.d(__webpack_exports__,"getLogMark",(function(){return getLogMark})),__webpack_require__.d(__webpack_exports__,"createLog",(function(){return createLog})),__webpack_require__.d(__webpack_exports__,"createTitle",(function(){return createTitle})),__webpack_require__.d(__webpack_exports__,"defaultEditorOptions",(function(){return defaultEditorOptions})),__webpack_require__.d(__webpack_exports__,"propEditorOptions",(function(){return propEditorOptions})),__webpack_require__.d(__webpack_exports__,"jsonEditorOptions",(function(){return jsonEditorOptions})),function(errorType){errorType.info="info",errorType.warning="warning",errorType.error="error"}(errorType||(errorType={}));var defaultEditorOptions={mode:"text/x-sql",lint:!0,indentWithTabs:!0,smartIndent:!0,lineNumbers:!0,autofocus:!1,lineWrapping:!0,readOnly:!1},propEditorOptions={mode:"text/x-properties",lint:!0,indentWithTabs:!0,smartIndent:!0,lineNumbers:!0,autofocus:!1},jsonEditorOptions={mode:"application/json",lint:!0,indentWithTabs:!0,smartIndent:!0,lineNumbers:!0,autofocus:!1,matchBrackets:!0},react=__webpack_require__(1),codemirror=__webpack_require__(95),codemirror_default=__webpack_require__.n(codemirror),__spreadArrays=(__webpack_require__(1101),function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}),startRegex=[{regex:/(\[.*?\])([ \t]*)(<error>)/,token:["tag",null,"error.strong"],sol:!0,next:"error"},{regex:/(\[.*?\])([ \t]*)(<info>)/,token:["tag",null,"bracket"],sol:!0,next:"info"},{regex:/(\[.*?\])([ \t]*)(<warning>)/,token:["tag",null,"comment"],sol:!0,next:"warning"}];__webpack_require__(95).defineSimpleMode("dtlog",{start:__spreadArrays(startRegex,[{regex:/.*/,token:"hr"}]),error:__spreadArrays(startRegex,[{regex:/.*/,token:"error.strong"}]),info:__spreadArrays(startRegex,[{regex:/.*/,token:"bracket"}]),warning:__spreadArrays(startRegex,[{regex:/.*/,token:"comment"}])}),__webpack_require__(95).defineSimpleMode("simpleLog",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:[null,"string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});__webpack_require__(2693),__webpack_require__(2695),__webpack_require__(2697),__webpack_require__(2699);var _extendStatics,__extends=(_extendStatics=function extendStatics(d,b){return(_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}_extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});__webpack_require__(2701),__webpack_require__(2702),__webpack_require__(2703),__webpack_require__(2704),__webpack_require__(2705),__webpack_require__(2706),__webpack_require__(2707);var lib_codemirror_0=function(_super){function CodeMirrorEditor(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(CodeMirrorEditor,_super),CodeMirrorEditor.prototype.componentDidMount=function(){var ele=this._editorRef;if(ele){var _a=this.props,value=_a.value,onChange=_a.onChange,onFocus=_a.onFocus,cursor=_a.cursor,options=_a.options,focusOut=_a.focusOut,cursorActivity=_a.cursorActivity,editorRef=_a.editorRef,editorConfig=Object.assign({},defaultEditorOptions,options);this._codeMirrorInstance=codemirror_default.a.fromTextArea(ele,editorConfig);var editorIns=this._codeMirrorInstance;this.renderTextMark(),cursor&&editorIns.setCursor(cursor),editorIns.on("change",(function(doc){onChange&&onChange(value,doc.getValue(),doc)})),editorIns.on("focus",(function(doc){onFocus&&onFocus(value,doc.getValue(),doc)})),editorIns.on("blur",(function(doc){focusOut&&focusOut(value,doc.getValue(),doc)})),editorIns.on("cursorActivity",(function(doc){cursorActivity&&cursorActivity(value,doc.getValue(),doc)})),editorRef&&editorRef(editorIns)}},CodeMirrorEditor.fromTextArea=function(ele,options){throw new Error("Method not implemented.")},CodeMirrorEditor.prototype.UNSAFE_componentWillReceiveProps=function(nextProps){var editorIns=this._codeMirrorInstance,value=nextProps.value,sync=nextProps.sync,cursor=nextProps.cursor,cursorAlwaysInEnd=nextProps.cursorAlwaysInEnd,_a=nextProps.options,options=void 0===_a?{}:_a;if(options&&editorIns.setOption("readOnly",options.readOnly),this.props.value!==value){if(cursor&&editorIns.setCursor(cursor),sync){var scrollInfo=editorIns.getScrollInfo(),isInBottom=scrollInfo.top+scrollInfo.clientHeight-scrollInfo.height>-10;console.log(isInBottom),value?editorIns.setValue(value):editorIns.setValue(""),cursorAlwaysInEnd?editorIns.setCursor(editorIns.lineCount()):isInBottom?isInBottom&&Promise.resolve().then((function(){var nowScrollInfo=editorIns.getScrollInfo();editorIns.scrollTo(nowScrollInfo.left,nowScrollInfo.height)})):editorIns.scrollTo(scrollInfo.left,scrollInfo.top)}this.renderTextMark()}},CodeMirrorEditor.prototype.renderTextMark=function(){for(var editorIns=this._codeMirrorInstance,_a=0,marks_1=editorIns.getAllMarks();_a<marks_1.length;_a++){(mark=marks_1[_a]).clear()}for(var value=editorIns.getValue(),linkMarks=[].concat(getLinkMark(value)).concat(getLogMark(value)),_i=0;_i<linkMarks.length;_i++){var mark=linkMarks[_i];editorIns.markText(editorIns.posFromIndex(mark.start),editorIns.posFromIndex(mark.end),{replacedWith:mark.node})}},CodeMirrorEditor.prototype.render=function(){var _this=this,_a=this.props,className=_a.className,style=_a.style,renderClass="code-editor "+(className||""),renderStyle={position:"relative"};return Object.assign(renderStyle,style),react.createElement("div",{className:renderClass,style:renderStyle},react.createElement("textarea",{ref:function ref(e){_this._editorRef=e},defaultValue:this.props.value||""}))},CodeMirrorEditor}(react.Component);__webpack_exports__.default=lib_codemirror_0},369:function(module){module.exports=JSON.parse('{"a":"dt-react-codemirror-editor","c":"0.9.2","b":{"type":"git","url":"https://github.com/DTStack/dt-react-codemirror-editor"}}')},985:function(module,exports,__webpack_require__){"use strict";(function(module){var _interopRequireWildcard=__webpack_require__(461),_interopRequireDefault=__webpack_require__(2069);Object.defineProperty(exports,"__esModule",{value:!0}),exports.stories=void 0;var _objectSpread2=_interopRequireDefault(__webpack_require__(2731)),React=_interopRequireWildcard(__webpack_require__(1)),_react2=__webpack_require__(137),_dtReactComponent=__webpack_require__(2713);__webpack_require__(2684),__webpack_require__(2686);var _utils=__webpack_require__(2689),_propsTable=__webpack_require__(2690),_lib=_interopRequireWildcard(__webpack_require__(2720)),_editorPropsDefinition=_interopRequireDefault(__webpack_require__(2708)),withSourceLoader=__webpack_require__(1102).withSource,__STORY__=(__webpack_require__(1102).addSource,"import * as React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { MarkdownRender } from 'dt-react-component';\n\nimport 'dt-react-component/lib/index.css'\n\nimport './style.scss';\nimport { notShowProps } from './utils';\nimport { PropsTable } from './propsTable';\n\nimport CodeMirrorEditor, { createLinkMark, createLog, createTitle } from '../lib';\nimport propDefinitions from './editorPropsDefinition';\n\nconst changelogMd = require('../CHANGELOG.md');\nconst readmeMd = require('../README.md');\n\nconst defaultValue = `\nselect * from test;\n`\n\nexport const stories = storiesOf('CodeMirrorEditor', module);\n\nstories.add('开始', () => {\n    return (\n        <div className='story_wrapper'>\n            <MarkdownRender text={readmeMd && readmeMd.default} />\n        </div>\n    )\n}, {\n    info: {\n        header: false,\n        ...notShowProps(false, [MarkdownRender]).info\n    },\n})\n\nstories.add('示例 - 基本使用', () => {\n    return (\n        <div className='story_wrapper'>\n            <h1>基本使用</h1>\n            <p>这里默认 mode 为 sql:</p>\n            <CodeMirrorEditor \n                value={defaultValue}\n                options={{ mode: 'sql' }}\n            />\n        </div>\n    )\n}, {\n    info: {\n        header: false,\n        text: `\n        代码示例：\n        ~~~js\n        import CodeMirrorEditor from 'dt-react-codemirror-editor';\n        <CodeMirrorEditor value={defaultValue} options={{ mode: 'sql' }}/>\n        ~~~\n        `,\n        TableComponent: () => PropsTable({ propDefinitions })\n    }\n})\n\nstories.add('示例 - 自定义日志（dtlog）', () => {\n    let log = `\n${createTitle('Log title')}\n${createLog('info', 'info')}\n${createLog('warning', 'warning')}\n${createLog('error', 'error')}\n${createLinkMark({ href: 'http://www.google.com', download: '' })}\n`;\n    return (\n        <div className='story_wrapper'>\n            <h1>自定义日志模式</h1>\n            <p>这是一个简单的日志模式扩展，可以应用在一些实时的日志打印场景。</p>\n            <CodeMirrorEditor \n                value={log}\n                sync={true}\n                cursorAlwaysInEnd={true} // 如果是实时的日志打印，建议开启此选项，保证光标始终在文档底部\n                options={{ readOnly: true, mode: 'dtlog' }}\n            />\n        </div>\n    )\n}, {\n    info: {\n        header: false,\n        text: `\n        代码示例：\n        ~~~js\n        import CodeMirrorEditor, { createLinkMark, createLog, createTitle } from 'dt-react-codemirror-editor';\n        let log = \\`\n            \\${createTitle('Log title')}\n            \\${createLog('info', 'info')}\n            \\${createLog('warning', 'warning')}\n            \\${createLog('error', 'error')}\n            \\${createLinkMark({ href: 'http://www.google.com', download: '' })}\n        \\`;\n        <CodeMirrorEditor \n            value={log}\n            sync={true} // Whether update editor value when props value changed\n            cursorAlwaysInEnd={true} // 如果是实时的日志打印，建议开启此选项，保证光标始终在文档底部\n            options={{ readOnly: true, mode: 'dtlog' }}\n        />\n        ~~~\n        `,\n        TableComponent: () => PropsTable({ propDefinitions })\n    }\n})\n\nstories.add('示例 - 事件监听', () => {\n    return (\n        <div className='story_wrapper'>\n            <h1 className=\"strory-dt_easy_select_p\">事件监听</h1>\n            <p>\n                <strong>dt-react-codemirror</strong> 仅仅通过 props 暴露了几个常见的事件，具体 <strong>codemirror</strong> 更多的事件，\n                可以通过<strong>editorRef</strong>获取编辑器对象，自己监听，具体文档<a href=\"https://codemirror.net/doc/manual.html#events\">参考</a>。\n            </p>\n            <CodeMirrorEditor \n                value={`const language = 'javascript';`}\n                options={{ mode: 'javascript' }}\n                onChange={(prev, next, doc) => {\n                    console.log('onChange,', prev, next, doc)\n                }}\n                onFocus={(prev, next, doc) => {\n                    console.log('onFocus,', prev, next, doc)\n                }}\n                focusOut={(prev, next, doc) => {\n                    console.log('focusOut,', prev, next, doc)\n                }}\n                cursorActivity={(prev, next, doc) => {\n                    console.log('cursorActivity,', prev, next, doc)\n                }}\n                editorRef={(editor) => {\n                    console.log('editor:', editor)\n                }}\n            />\n        </div>\n    )\n}, {\n    info: {\n        header: false,\n        text: `\n        代码示例：\n        ~~~js\n        import CodeMirrorEditor from 'dt-react-codemirror-editor';\n        <CodeMirrorEditor \n            value={'const language = 'javascript';'}\n            options={{ mode: 'javascript' }}\n            onChange={(prev, next, doc) => {\n                console.log('onChange,', prev, next, doc)\n            }}\n            onFocus={(prev, next, doc) => {\n                console.log('onFocus,', prev, next, doc)\n            }}\n            focusOut={(prev, next, doc) => {\n                console.log('focusOut,', prev, next, doc)\n            }}\n            cursorActivity={(prev, next, doc) => {\n                console.log('cursorActivity,', prev, next, doc)\n            }}\n            editorRef={(editor) => {\n                console.log('editor:', editor)\n            }}\n        />\n        ~~~\n        `,\n        TableComponent: () => PropsTable({ propDefinitions })\n    }\n})\n\n\nstories.add('更新日志', () => {\n    return (\n        <div className='story_wrapper'>\n            <MarkdownRender text={changelogMd && changelogMd.default} />\n        </div>\n    )\n}, {\n    info: {\n        header: false,\n        ...notShowProps(false, [MarkdownRender]).info\n    },\n})\n"),__ADDS_MAP__={},changelogMd=__webpack_require__(2711),readmeMd=__webpack_require__(2712),stories=(0,_react2.storiesOf)("CodeMirrorEditor",module).addParameters({storySource:{source:__STORY__,locationsMap:__ADDS_MAP__}}).addDecorator(withSourceLoader(__STORY__,__ADDS_MAP__,"/index.stories.tsx",[],{},"/Users/ziv/Workspace/dt-react-codemirror-editor/stories",{}));exports.stories=stories,stories.add("开始",(function(){return React.createElement("div",{className:"story_wrapper"},React.createElement(_dtReactComponent.MarkdownRender,{text:readmeMd&&readmeMd.default}))}),{info:(0,_objectSpread2.default)({header:!1},(0,_utils.notShowProps)(!1,[_dtReactComponent.MarkdownRender]).info)}),stories.add("示例 - 基本使用",(function(){return React.createElement("div",{className:"story_wrapper"},React.createElement("h1",null,"基本使用"),React.createElement("p",null,"这里默认 mode 为 sql:"),React.createElement(_lib.default,{value:"\nselect * from test;\n",options:{mode:"sql"}}))}),{info:{header:!1,text:"\n        代码示例：\n        ~~~js\n        import CodeMirrorEditor from 'dt-react-codemirror-editor';\n        <CodeMirrorEditor value={defaultValue} options={{ mode: 'sql' }}/>\n        ~~~\n        ",TableComponent:function TableComponent(){return(0,_propsTable.PropsTable)({propDefinitions:_editorPropsDefinition.default})}}}),stories.add("示例 - 自定义日志（dtlog）",(function(){var log="\n".concat((0,_lib.createTitle)("Log title"),"\n").concat((0,_lib.createLog)("info","info"),"\n").concat((0,_lib.createLog)("warning","warning"),"\n").concat((0,_lib.createLog)("error","error"),"\n").concat((0,_lib.createLinkMark)({href:"http://www.google.com",download:""}),"\n");return React.createElement("div",{className:"story_wrapper"},React.createElement("h1",null,"自定义日志模式"),React.createElement("p",null,"这是一个简单的日志模式扩展，可以应用在一些实时的日志打印场景。"),React.createElement(_lib.default,{value:log,sync:!0,cursorAlwaysInEnd:!0,options:{readOnly:!0,mode:"dtlog"}}))}),{info:{header:!1,text:"\n        代码示例：\n        ~~~js\n        import CodeMirrorEditor, { createLinkMark, createLog, createTitle } from 'dt-react-codemirror-editor';\n        let log = `\n            ${createTitle('Log title')}\n            ${createLog('info', 'info')}\n            ${createLog('warning', 'warning')}\n            ${createLog('error', 'error')}\n            ${createLinkMark({ href: 'http://www.google.com', download: '' })}\n        `;\n        <CodeMirrorEditor \n            value={log}\n            sync={true} // Whether update editor value when props value changed\n            cursorAlwaysInEnd={true} // 如果是实时的日志打印，建议开启此选项，保证光标始终在文档底部\n            options={{ readOnly: true, mode: 'dtlog' }}\n        />\n        ~~~\n        ",TableComponent:function TableComponent(){return(0,_propsTable.PropsTable)({propDefinitions:_editorPropsDefinition.default})}}}),stories.add("示例 - 事件监听",(function(){return React.createElement("div",{className:"story_wrapper"},React.createElement("h1",{className:"strory-dt_easy_select_p"},"事件监听"),React.createElement("p",null,React.createElement("strong",null,"dt-react-codemirror")," 仅仅通过 props 暴露了几个常见的事件，具体 ",React.createElement("strong",null,"codemirror")," 更多的事件， 可以通过",React.createElement("strong",null,"editorRef"),"获取编辑器对象，自己监听，具体文档",React.createElement("a",{href:"https://codemirror.net/doc/manual.html#events"},"参考"),"。"),React.createElement(_lib.default,{value:"const language = 'javascript';",options:{mode:"javascript"},onChange:function onChange(prev,next,doc){console.log("onChange,",prev,next,doc)},onFocus:function onFocus(prev,next,doc){console.log("onFocus,",prev,next,doc)},focusOut:function focusOut(prev,next,doc){console.log("focusOut,",prev,next,doc)},cursorActivity:function cursorActivity(prev,next,doc){console.log("cursorActivity,",prev,next,doc)},editorRef:function editorRef(editor){console.log("editor:",editor)}}))}),{info:{header:!1,text:"\n        代码示例：\n        ~~~js\n        import CodeMirrorEditor from 'dt-react-codemirror-editor';\n        <CodeMirrorEditor \n            value={'const language = 'javascript';'}\n            options={{ mode: 'javascript' }}\n            onChange={(prev, next, doc) => {\n                console.log('onChange,', prev, next, doc)\n            }}\n            onFocus={(prev, next, doc) => {\n                console.log('onFocus,', prev, next, doc)\n            }}\n            focusOut={(prev, next, doc) => {\n                console.log('focusOut,', prev, next, doc)\n            }}\n            cursorActivity={(prev, next, doc) => {\n                console.log('cursorActivity,', prev, next, doc)\n            }}\n            editorRef={(editor) => {\n                console.log('editor:', editor)\n            }}\n        />\n        ~~~\n        ",TableComponent:function TableComponent(){return(0,_propsTable.PropsTable)({propDefinitions:_editorPropsDefinition.default})}}}),stories.add("更新日志",(function(){return React.createElement("div",{className:"story_wrapper"},React.createElement(_dtReactComponent.MarkdownRender,{text:changelogMd&&changelogMd.default}))}),{info:(0,_objectSpread2.default)({header:!1},(0,_utils.notShowProps)(!1,[_dtReactComponent.MarkdownRender]).info)})}).call(this,__webpack_require__(92)(module))}},[[1140,180,181]]]);
//# sourceMappingURL=main.450f048e7642ff1bbef6.bundle.js.map